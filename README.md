> This file has been tested on DCS
> Operation on windows and macOS is unknown
>
> This is provided with no guarantees of accuracy always verify data for yourself
>
> I hope this helps you and good luck with the CW


# Compare.py

Compare.py is a python file to easily compare between versions of the ACA CW

the program takes the following steps

1. run `make clean`
1. run `make`
1. run `acacgs 50 50 50`
1. run `acacgs 50 50 50`
1. run `acacgs 50 50 50`
1. run `acacgs 50 50 50`
1. run `acacgs 50 50 50`
2. Read the files generated by acacgs
3. Sort the values in order of total time
4. remove the largest and smallest run 
4. Find the mean of the remaining runs
5. Save the results to a save file in ./Past
6. Load a selection of save files form ./Past 
7. Display the selection in a table format with speedup 

Many of the operations can be configured using the constants at the start of the file.

## File structure
This program assumes the following file structure

- compare.py
- [Past]
- [main]
  - .git
  - BRANCH.txt
  - MakeFile
  - main.c
  - ...

[Past] a folder contaning all the past runs as JSON created by comapre.py

[main] is the folder provided as part of the CW

.git - main should be it's own repository / submodule. checkout should not alter [Past] 
look into https://git-scm.com/book/en/v2/Git-Tools-Submodules if you wish to include [Past] in a repository

BRANCH.txt - Branch information first line should be branch name and is read to label your comparisons should be different for every branch

Makefile... --- the files provided

## -c
adding the argument -c will combine all of the JSON files into one for easy export.

From this is is possible to create things like graphs.

## Base
It may be desirable to include a base run to compare all changes to.

e.g a version with no optimizations.

with the desired code

run
`python3 compare.py`.

A new file will appear in Past.

Rename the file to desired name e.g `unoptimised.json`.

Edit the file change `title` to the desired name e.g `unoptimised`.

In compare.py add the name `base` to `OTHER_FILES`.

When displaying results `unoptimised.json` will allways be show.



## Configuration

See the constants at the start of compare.py

## JSON
the program creates json files for each run

* **date** : datetime the file was run (start time)
* **title** : title to show in comparison table (defaults to date)
* **alt** : the name of the branch that the program is from 
* **dimensions**: The arguments applied
* **final-residual** result from the program
* **time-total**
* **time-ddot**
* **time-waxpy**
* **time-sparsemv**